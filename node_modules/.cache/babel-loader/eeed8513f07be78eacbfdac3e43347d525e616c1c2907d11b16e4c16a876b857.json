{"ast":null,"code":"import React from'react';import{X,TrendingUp,TrendingDown,Package,Calendar,Users}from'lucide-react';import{Button}from'./ui/button';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CustomerDetailModal=_ref=>{let{customerName,currentInvoices,previousInvoices,isOpen,onClose,alpineData,progressAnalysis}=_ref;// Calculate customer-specific data\nconst customerData=React.useMemo(()=>{// Filter invoices for this specific customer\nconst currentCustomerInvoices=currentInvoices.filter(inv=>inv.customerName===customerName);const previousCustomerInvoices=previousInvoices.filter(inv=>inv.customerName===customerName);// Calculate purchase records for each product\nconst purchaseRecords=[];// Get all unique products from both periods\nconst allProducts=new Set([...currentCustomerInvoices.map(inv=>inv.productName),...previousCustomerInvoices.map(inv=>inv.productName)]);for(const product of Array.from(allProducts)){// Current period data\nconst currentProductSales=currentCustomerInvoices.filter(inv=>inv.productName===product);const currentQuantity=currentProductSales.reduce((sum,sale)=>sum+sale.quantity,0);const currentRevenue=currentProductSales.reduce((sum,sale)=>sum+sale.revenue,0);// Previous period data\nconst previousProductSales=previousCustomerInvoices.filter(inv=>inv.productName===product);const previousQuantity=previousProductSales.reduce((sum,sale)=>sum+sale.quantity,0);const previousRevenue=previousProductSales.reduce((sum,sale)=>sum+sale.revenue,0);const quantityChange=currentQuantity-previousQuantity;const revenueChange=currentRevenue-previousRevenue;const changePercentage=previousQuantity>0?quantityChange/previousQuantity*100:currentQuantity>0?100:-100;// Determine status\nlet status;if(previousQuantity===0&&currentQuantity>0){status='new';}else if(currentQuantity===0&&previousQuantity>0){status='discontinued';}else if(quantityChange===0){status='no-change';}else if(quantityChange>0){status='increased';}else{status='decreased';}purchaseRecords.push({productName:product,currentQuantity,previousQuantity,quantityChange,currentRevenue,previousRevenue,revenueChange,changePercentage,status});}// Sort by revenue change (greatest increases first, then decreases)\npurchaseRecords.sort((a,b)=>{// Prioritize discontinued products (biggest negative changes)\nif(a.status==='discontinued'&&b.status!=='discontinued')return-1;if(b.status==='discontinued'&&a.status!=='discontinued')return 1;// Then sort by revenue change amount (absolute value for decreases)\nconst aImpact=Math.abs(a.revenueChange);const bImpact=Math.abs(b.revenueChange);return bImpact-aImpact;});// Calculate customer totals\nconst totalCurrentRevenue=currentCustomerInvoices.reduce((sum,inv)=>sum+inv.revenue,0);const totalPreviousRevenue=previousCustomerInvoices.reduce((sum,inv)=>sum+inv.revenue,0);const totalRevenueChange=totalCurrentRevenue-totalPreviousRevenue;const totalRevenueChangePercent=totalPreviousRevenue>0?totalRevenueChange/totalPreviousRevenue*100:0;const totalCurrentQuantity=currentCustomerInvoices.reduce((sum,inv)=>sum+inv.quantity,0);const totalPreviousQuantity=previousCustomerInvoices.reduce((sum,inv)=>sum+inv.quantity,0);return{purchaseRecords,totals:{totalCurrentRevenue,totalPreviousRevenue,totalRevenueChange,totalRevenueChangePercent:Math.round(totalRevenueChangePercent*100)/100,totalCurrentQuantity,totalPreviousQuantity,currentProductCount:new Set(currentCustomerInvoices.map(inv=>inv.productName)).size,previousProductCount:new Set(previousCustomerInvoices.map(inv=>inv.productName)).size}};},[customerName,currentInvoices,previousInvoices]);const formatCurrency=amount=>{return new Intl.NumberFormat('en-US',{style:'currency',currency:'USD',minimumFractionDigits:0}).format(amount);};const getTrendIcon=(status,changePercentage)=>{switch(status){case'increased':case'new':return/*#__PURE__*/_jsx(TrendingUp,{className:\"w-4 h-4 text-green-600\"});case'decreased':case'discontinued':return/*#__PURE__*/_jsx(TrendingDown,{className:\"w-4 h-4 text-red-600\"});default:return null;}};const getStatusColor=status=>{switch(status){case'increased':case'new':return'bg-green-100 border-green-200 text-green-800';case'decreased':case'discontinued':return'bg-red-100 border-red-200 text-red-800';default:return'bg-gray-100 border-gray-200 text-gray-800';}};if(!isOpen)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-[10000]\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-xl max-w-6xl w-full max-h-[90vh] overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-6 border-b border-gray-200\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-gray-900\",children:customerName}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Purchase Comparison Analysis\"})]}),/*#__PURE__*/_jsx(Button,{variant:\"outline\",size:\"sm\",onClick:onClose,className:\"text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(X,{className:\"w-4 h-4\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 border-b border-gray-200 bg-gray-50\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-lg font-bold \".concat(customerData.totals.totalRevenueChange>=0?'text-green-600':'text-red-600'),children:formatCurrency(customerData.totals.totalCurrentRevenue)}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-600\",children:\"Current Revenue\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-lg font-bold text-gray-700\",children:formatCurrency(customerData.totals.totalPreviousRevenue)}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-600\",children:\"Previous Revenue\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-lg font-bold \".concat(customerData.totals.totalRevenueChange>=0?'text-green-600':'text-red-600'),children:[customerData.totals.totalRevenueChange>=0?'+':'',formatCurrency(customerData.totals.totalRevenueChange)]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-600\",children:\"Revenue Change\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-lg font-bold \".concat(customerData.totals.totalRevenueChangePercent>=0?'text-green-600':'text-red-600'),children:[customerData.totals.totalRevenueChangePercent>=0?'+':'',customerData.totals.totalRevenueChangePercent.toFixed(1),\"%\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-600\",children:\"% Change\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 grid grid-cols-2 md:grid-cols-4 gap-4 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-blue-600\",children:customerData.totals.currentProductCount}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\" Current Products\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-600\",children:customerData.totals.previousProductCount}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\" Previous Products\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-purple-600\",children:customerData.totals.totalCurrentQuantity}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\" Current Units\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-600\",children:customerData.totals.totalPreviousQuantity}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\" Previous Units\"})]})]}),progressAnalysis&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-medium text-blue-800 mb-3 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"w-4 h-4\"}),\"Customer Trends Across Alpine Periods\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-blue-700 font-medium mb-1\",children:\"Status:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium \".concat(progressAnalysis.trends.status==='active'?'bg-green-100 text-green-800':progressAnalysis.trends.status==='declining'?'bg-red-100 text-red-800':progressAnalysis.trends.status==='emerging'?'bg-blue-100 text-blue-800':'bg-gray-100 text-gray-800'),children:[/*#__PURE__*/_jsx(Users,{className:\"w-3 h-3\"}),progressAnalysis.trends.status.toUpperCase()]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-blue-700 font-medium mb-1\",children:\"Revenue:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1 \".concat(progressAnalysis.trends.revenueTrend==='increasing'?'text-green-600':progressAnalysis.trends.revenueTrend==='decreasing'?'text-red-600':'text-gray-600'),children:[getTrendIcon(progressAnalysis.trends.revenueTrend,0),progressAnalysis.trends.revenueTrend]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-blue-700 font-medium mb-1\",children:\"Volume:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1 \".concat(progressAnalysis.trends.caseTrend==='increasing'?'text-green-600':progressAnalysis.trends.caseTrend==='decreasing'?'text-red-600':'text-gray-600'),children:[getTrendIcon(progressAnalysis.trends.caseTrend,0),progressAnalysis.trends.caseTrend]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-blue-700 font-medium mb-1\",children:\"Products:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1 \".concat(progressAnalysis.trends.productTrend==='expanding'?'text-green-600':progressAnalysis.trends.productTrend==='contracting'?'text-red-600':'text-gray-600'),children:[/*#__PURE__*/_jsx(Package,{className:\"w-3 h-3\"}),progressAnalysis.trends.productTrend]})]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 overflow-y-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold mb-4 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Package,{className:\"w-5 h-5 text-blue-500\"}),\"Product Purchase Changes\",/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-500\",children:\"(Sorted by Impact)\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:customerData.purchaseRecords.map((record,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"border rounded-lg p-4 hover:shadow-md transition-shadow \".concat(getStatusColor(record.status)),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[getTrendIcon(record.status,record.changePercentage),/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold truncate flex-1\",children:record.productName}),/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 rounded-full text-xs font-medium \".concat(getStatusColor(record.status)),children:record.status.replace('-',' ')})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right \".concat(record.revenueChange>=0?'text-green-600':'text-red-600'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"font-bold\",children:[record.revenueChange>=0?'+':'',formatCurrency(record.revenueChange)]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs\",children:\"Revenue Impact\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-600 text-xs mb-1\",children:\"Current Period\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"font-medium\",children:[record.currentQuantity,\" units\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:formatCurrency(record.currentRevenue)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-600 text-xs mb-1\",children:\"Previous Period\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"font-medium\",children:[record.previousQuantity,\" units\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:formatCurrency(record.previousRevenue)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-600 text-xs mb-1\",children:\"Quantity Change\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"font-medium \".concat(record.quantityChange>=0?'text-green-600':'text-red-600'),children:[record.quantityChange>=0?'+':'',record.quantityChange,\" units\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs \".concat(record.changePercentage>=0?'text-green-600':'text-red-600'),children:[record.changePercentage>=0?'+':'',record.changePercentage.toFixed(1),\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-600 text-xs mb-1\",children:\"Revenue Change\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"font-medium \".concat(record.revenueChange>=0?'text-green-600':'text-red-600'),children:[record.revenueChange>=0?'+':'',formatCurrency(record.revenueChange)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs \".concat(record.changePercentage>=0?'text-green-600':'text-red-600'),children:[record.changePercentage>=0?'+':'',record.changePercentage.toFixed(1),\"%\"]})]})]})]},\"\".concat(record.productName,\"-\").concat(index)))}),customerData.purchaseRecords.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8 text-gray-500\",children:[/*#__PURE__*/_jsx(Package,{className:\"w-12 h-12 mx-auto mb-4 text-gray-300\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-medium\",children:\"No purchase data found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:\"This customer has no invoice data for comparison\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6 border-t border-gray-200 bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"Analysis generated from current and previous invoice data\"}),/*#__PURE__*/_jsx(Button,{onClick:onClose,children:\"Close Analysis\"})]})})]})});};export default CustomerDetailModal;","map":{"version":3,"names":["React","X","TrendingUp","TrendingDown","Package","Calendar","Users","Button","jsx","_jsx","jsxs","_jsxs","CustomerDetailModal","_ref","customerName","currentInvoices","previousInvoices","isOpen","onClose","alpineData","progressAnalysis","customerData","useMemo","currentCustomerInvoices","filter","inv","previousCustomerInvoices","purchaseRecords","allProducts","Set","map","productName","product","Array","from","currentProductSales","currentQuantity","reduce","sum","sale","quantity","currentRevenue","revenue","previousProductSales","previousQuantity","previousRevenue","quantityChange","revenueChange","changePercentage","status","push","sort","a","b","aImpact","Math","abs","bImpact","totalCurrentRevenue","totalPreviousRevenue","totalRevenueChange","totalRevenueChangePercent","totalCurrentQuantity","totalPreviousQuantity","totals","round","currentProductCount","size","previousProductCount","formatCurrency","amount","Intl","NumberFormat","style","currency","minimumFractionDigits","format","getTrendIcon","className","getStatusColor","children","variant","onClick","concat","toFixed","trends","toUpperCase","revenueTrend","caseTrend","productTrend","record","index","replace","length"],"sources":["/Users/isaachirsch/Desktop/GalantCo/SalesTracker/src/components/CustomerDetailModal.tsx"],"sourcesContent":["import React from 'react';\nimport { X, TrendingUp, TrendingDown, AlertTriangle, DollarSign, Package, Calendar, Users } from 'lucide-react';\nimport { Button } from './ui/button';\nimport { AlpineSalesRecord, CustomerProgressAnalysis } from '../utils/alpineParser';\n\ninterface CustomerPurchaseRecord {\n  productName: string;\n  currentQuantity: number;\n  previousQuantity: number;\n  quantityChange: number;\n  currentRevenue: number;\n  previousRevenue: number;\n  revenueChange: number;\n  changePercentage: number;\n  status: 'increased' | 'decreased' | 'no-change' | 'new' | 'discontinued';\n}\n\ninterface CustomerDetailModalProps {\n  customerName: string;\n  currentInvoices: Array<{ customerName: string; productName: string; quantity: number; revenue: number; date: string }>;\n  previousInvoices: Array<{ customerName: string; productName: string; quantity: number; revenue: number; date: string }>;\n  isOpen: boolean;\n  onClose: () => void;\n  alpineData?: AlpineSalesRecord[];\n  progressAnalysis?: CustomerProgressAnalysis;\n}\n\nconst CustomerDetailModal: React.FC<CustomerDetailModalProps> = ({\n  customerName,\n  currentInvoices,\n  previousInvoices,\n  isOpen,\n  onClose,\n  alpineData,\n  progressAnalysis\n}) => {\n  // Calculate customer-specific data\n  const customerData = React.useMemo(() => {\n    // Filter invoices for this specific customer\n    const currentCustomerInvoices = currentInvoices.filter(inv => inv.customerName === customerName);\n    const previousCustomerInvoices = previousInvoices.filter(inv => inv.customerName === customerName);\n\n    // Calculate purchase records for each product\n    const purchaseRecords: CustomerPurchaseRecord[] = [];\n    \n    // Get all unique products from both periods\n    const allProducts = new Set([\n      ...currentCustomerInvoices.map(inv => inv.productName),\n      ...previousCustomerInvoices.map(inv => inv.productName)\n    ]);\n\n    for (const product of Array.from(allProducts)) {\n      // Current period data\n      const currentProductSales = currentCustomerInvoices.filter(inv => inv.productName === product);\n      const currentQuantity = currentProductSales.reduce((sum, sale) => sum + sale.quantity, 0);\n      const currentRevenue = currentProductSales.reduce((sum, sale) => sum + sale.revenue, 0);\n\n      // Previous period data\n      const previousProductSales = previousCustomerInvoices.filter(inv => inv.productName === product);\n      const previousQuantity = previousProductSales.reduce((sum, sale) => sum + sale.quantity, 0);\n      const previousRevenue = previousProductSales.reduce((sum, sale) => sum + sale.revenue, 0);\n\n      const quantityChange = currentQuantity - previousQuantity;\n      const revenueChange = currentRevenue - previousRevenue;\n      const changePercentage = previousQuantity > 0 ? (quantityChange / previousQuantity) * 100 : \n        (currentQuantity > 0 ? 100 : -100);\n\n      // Determine status\n      let status: 'increased' | 'decreased' | 'no-change' | 'new' | 'discontinued';\n      if (previousQuantity === 0 && currentQuantity > 0) {\n        status = 'new';\n      } else if (currentQuantity === 0 && previousQuantity > 0) {\n        status = 'discontinued';\n      } else if (quantityChange === 0) {\n        status = 'no-change';\n      } else if (quantityChange > 0) {\n        status = 'increased';\n      } else {\n        status = 'decreased';\n      }\n\n      purchaseRecords.push({\n        productName: product,\n        currentQuantity,\n        previousQuantity,\n        quantityChange,\n        currentRevenue,\n        previousRevenue,\n        revenueChange,\n        changePercentage,\n        status\n      });\n    }\n\n    // Sort by revenue change (greatest increases first, then decreases)\n    purchaseRecords.sort((a, b) => {\n      // Prioritize discontinued products (biggest negative changes)\n      if (a.status === 'discontinued' && b.status !== 'discontinued') return -1;\n      if (b.status === 'discontinued' && a.status !== 'discontinued') return 1;\n      \n      // Then sort by revenue change amount (absolute value for decreases)\n      const aImpact = Math.abs(a.revenueChange);\n      const bImpact = Math.abs(b.revenueChange);\n      return bImpact - aImpact;\n    });\n\n    // Calculate customer totals\n    const totalCurrentRevenue = currentCustomerInvoices.reduce((sum, inv) => sum + inv.revenue, 0);\n    const totalPreviousRevenue = previousCustomerInvoices.reduce((sum, inv) => sum + inv.revenue, 0);\n    const totalRevenueChange = totalCurrentRevenue - totalPreviousRevenue;\n    const totalRevenueChangePercent = totalPreviousRevenue > 0 ? (totalRevenueChange / totalPreviousRevenue) * 100 : 0;\n\n    const totalCurrentQuantity = currentCustomerInvoices.reduce((sum, inv) => sum + inv.quantity, 0);\n    const totalPreviousQuantity = previousCustomerInvoices.reduce((sum, inv) => sum + inv.quantity, 0);\n\n    return {\n      purchaseRecords,\n      totals: {\n        totalCurrentRevenue,\n        totalPreviousRevenue,\n        totalRevenueChange,\n        totalRevenueChangePercent: Math.round(totalRevenueChangePercent * 100) / 100,\n        totalCurrentQuantity,\n        totalPreviousQuantity,\n        currentProductCount: new Set(currentCustomerInvoices.map(inv => inv.productName)).size,\n        previousProductCount: new Set(previousCustomerInvoices.map(inv => inv.productName)).size\n      }\n    };\n  }, [customerName, currentInvoices, previousInvoices]);\n\n  const formatCurrency = (amount: number) => {\n    return new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency: 'USD',\n      minimumFractionDigits: 0\n    }).format(amount);\n  };\n\n  const getTrendIcon = (status: string, changePercentage: number) => {\n    switch (status) {\n      case 'increased':\n      case 'new':\n        return <TrendingUp className=\"w-4 h-4 text-green-600\" />;\n      case 'decreased':\n      case 'discontinued':\n        return <TrendingDown className=\"w-4 h-4 text-red-600\" />;\n      default:\n        return null;\n    }\n  };\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'increased':\n      case 'new':\n        return 'bg-green-100 border-green-200 text-green-800';\n      case 'decreased':\n      case 'discontinued':\n        return 'bg-red-100 border-red-200 text-red-800';\n      default:\n        return 'bg-gray-100 border-gray-200 text-gray-800';\n    }\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-[10000]\">\n      <div className=\"bg-white rounded-lg shadow-xl max-w-6xl w-full max-h-[90vh] overflow-hidden\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between p-6 border-b border-gray-200\">\n          <div>\n            <h2 className=\"text-xl font-bold text-gray-900\">{customerName}</h2>\n            <p className=\"text-sm text-gray-600\">Purchase Comparison Analysis</p>\n          </div>\n          <Button\n            variant=\"outline\"\n            size=\"sm\"\n            onClick={onClose}\n            className=\"text-gray-400 hover:text-gray-600\"\n          >\n            <X className=\"w-4 h-4\" />\n          </Button>\n        </div>\n\n        {/* Customer Summary */}\n        <div className=\"p-6 border-b border-gray-200 bg-gray-50\">\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n            <div className=\"text-center\">\n              <div className={`text-lg font-bold ${\n                customerData.totals.totalRevenueChange >= 0 ? 'text-green-600' : 'text-red-600'\n              }`}>\n                {formatCurrency(customerData.totals.totalCurrentRevenue)}\n              </div>\n              <div className=\"text-xs text-gray-600\">Current Revenue</div>\n            </div>\n            <div className=\"text-center\">\n              <div className=\"text-lg font-bold text-gray-700\">\n                {formatCurrency(customerData.totals.totalPreviousRevenue)}\n              </div>\n              <div className=\"text-xs text-gray-600\">Previous Revenue</div>\n            </div>\n            <div className=\"text-center\">\n              <div className={`text-lg font-bold ${\n                customerData.totals.totalRevenueChange >= 0 ? 'text-green-600' : 'text-red-600'\n              }`}>\n                {customerData.totals.totalRevenueChange >= 0 ? '+' : ''}{formatCurrency(customerData.totals.totalRevenueChange)}\n              </div>\n              <div className=\"text-xs text-gray-600\">Revenue Change</div>\n            </div>\n            <div className=\"text-center\">\n              <div className={`text-lg font-bold ${\n                customerData.totals.totalRevenueChangePercent >= 0 ? 'text-green-600' : 'text-red-600'\n              }`}>\n                {customerData.totals.totalRevenueChangePercent >= 0 ? '+' : ''}{customerData.totals.totalRevenueChangePercent.toFixed(1)}%\n              </div>\n              <div className=\"text-xs text-gray-600\">% Change</div>\n            </div>\n          </div>\n          \n          {/* Quick Stats */}\n          <div className=\"mt-4 grid grid-cols-2 md:grid-cols-4 gap-4 text-sm\">\n            <div className=\"text-center\">\n              <span className=\"font-medium text-blue-600\">{customerData.totals.currentProductCount}</span>\n              <span className=\"text-gray-600\"> Current Products</span>\n            </div>\n            <div className=\"text-center\">\n              <span className=\"font-medium text-gray-600\">{customerData.totals.previousProductCount}</span>\n              <span className=\"text-gray-600\"> Previous Products</span>\n            </div>\n            <div className=\"text-center\">\n              <span className=\"font-medium text-purple-600\">{customerData.totals.totalCurrentQuantity}</span>\n              <span className=\"text-gray-600\"> Current Units</span>\n            </div>\n            <div className=\"text-center\">\n              <span className=\"font-medium text-gray-600\">{customerData.totals.totalPreviousQuantity}</span>\n              <span className=\"text-gray-600\"> Previous Units</span>\n            </div>\n          </div>\n\n          {/* Alpine Progress Trend Summary */}\n          {progressAnalysis && (\n            <div className=\"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg\">\n              <h4 className=\"font-medium text-blue-800 mb-3 flex items-center gap-2\">\n                <Calendar className=\"w-4 h-4\" />Customer Trends Across Alpine Periods\n              </h4>\n              <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm\">\n                <div>\n                  <div className=\"text-blue-700 font-medium mb-1\">Status:</div>\n                  <div className={`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${\n                    progressAnalysis.trends.status === 'active' ? 'bg-green-100 text-green-800' :\n                    progressAnalysis.trends.status === 'declining' ? 'bg-red-100 text-red-800' :\n                    progressAnalysis.trends.status === 'emerging' ? 'bg-blue-100 text-blue-800' :\n                    'bg-gray-100 text-gray-800'\n                  }`}>\n                    <Users className=\"w-3 h-3\" />\n                    {progressAnalysis.trends.status.toUpperCase()}\n                  </div>\n                </div>\n                <div>\n                  <div className=\"text-blue-700 font-medium mb-1\">Revenue:</div>\n                  <div className={`flex items-center gap-1 ${\n                    progressAnalysis.trends.revenueTrend === 'increasing' ? 'text-green-600' :\n                    progressAnalysis.trends.revenueTrend === 'decreasing' ? 'text-red-600' :\n                    'text-gray-600'\n                  }`}>\n                    {getTrendIcon(progressAnalysis.trends.revenueTrend, 0)}\n                    {progressAnalysis.trends.revenueTrend}\n                  </div>\n                </div>\n                <div>\n                  <div className=\"text-blue-700 font-medium mb-1\">Volume:</div>\n                  <div className={`flex items-center gap-1 ${\n                    progressAnalysis.trends.caseTrend === 'increasing' ? 'text-green-600' :\n                    progressAnalysis.trends.caseTrend === 'decreasing' ? 'text-red-600' :\n                    'text-gray-600'\n                  }`}>\n                    {getTrendIcon(progressAnalysis.trends.caseTrend, 0)}\n                    {progressAnalysis.trends.caseTrend}\n                  </div>\n                </div>\n                <div>\n                  <div className=\"text-blue-700 font-medium mb-1\">Products:</div>\n                  <div className={`flex items-center gap-1 ${\n                    progressAnalysis.trends.productTrend === 'expanding' ? 'text-green-600' :\n                    progressAnalysis.trends.productTrend === 'contracting' ? 'text-red-600' :\n                    'text-gray-600'\n                  }`}>\n                    <Package className=\"w-3 h-3\" />\n                    {progressAnalysis.trends.productTrend}\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Purchase Records */}\n        <div className=\"flex-1 overflow-y-auto\">\n          <div className=\"p-6\">\n            <h3 className=\"text-lg font-semibold mb-4 flex items-center gap-2\">\n              <Package className=\"w-5 h-5 text-blue-500\" />\n              Product Purchase Changes\n              <span className=\"text-sm text-gray-500\">(Sorted by Impact)</span>\n            </h3>\n            \n            <div className=\"space-y-3\">\n              {customerData.purchaseRecords.map((record, index) => (\n                <div \n                  key={`${record.productName}-${index}`}\n                  className={`border rounded-lg p-4 hover:shadow-md transition-shadow ${getStatusColor(record.status)}`}\n                >\n                  <div className=\"flex items-center justify-between mb-3\">\n                    <div className=\"flex items-center gap-2\">\n                      {getTrendIcon(record.status, record.changePercentage)}\n                      <h4 className=\"font-semibold truncate flex-1\">{record.productName}</h4>\n                      <span className={`px-2 py-1 rounded-full text-xs font-medium ${getStatusColor(record.status)}`}>\n                        {record.status.replace('-', ' ')}\n                      </span>\n                    </div>\n                    <div className={`text-right ${\n                      record.revenueChange >= 0 ? 'text-green-600' : 'text-red-600'\n                    }`}>\n                      <div className=\"font-bold\">\n                        {record.revenueChange >= 0 ? '+' : ''}{formatCurrency(record.revenueChange)}\n                      </div>\n                      <div className=\"text-xs\">Revenue Impact</div>\n                    </div>\n                  </div>\n\n                  <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm\">\n                    <div>\n                      <div className=\"text-gray-600 text-xs mb-1\">Current Period</div>\n                      <div className=\"font-medium\">{record.currentQuantity} units</div>\n                      <div className=\"text-xs text-gray-500\">{formatCurrency(record.currentRevenue)}</div>\n                    </div>\n                    <div>\n                      <div className=\"text-gray-600 text-xs mb-1\">Previous Period</div>\n                      <div className=\"font-medium\">{record.previousQuantity} units</div>\n                      <div className=\"text-xs text-gray-500\">{formatCurrency(record.previousRevenue)}</div>\n                    </div>\n                    <div>\n                      <div className=\"text-gray-600 text-xs mb-1\">Quantity Change</div>\n                      <div className={`font-medium ${record.quantityChange >= 0 ? 'text-green-600' : 'text-red-600'}`}>\n                        {record.quantityChange >= 0 ? '+' : ''}{record.quantityChange} units\n                      </div>\n                      <div className={`text-xs ${record.changePercentage >= 0 ? 'text-green-600' : 'text-red-600'}`}>\n                        {record.changePercentage >= 0 ? '+' : ''}{record.changePercentage.toFixed(1)}%\n                      </div>\n                    </div>\n                    <div>\n                      <div className=\"text-gray-600 text-xs mb-1\">Revenue Change</div>\n                      <div className={`font-medium ${record.revenueChange >= 0 ? 'text-green-600' : 'text-red-600'}`}>\n                        {record.revenueChange >= 0 ? '+' : ''}{formatCurrency(record.revenueChange)}\n                      </div>\n                      <div className={`text-xs ${record.changePercentage >= 0 ? 'text-green-600' : 'text-red-600'}`}>\n                        {record.changePercentage >= 0 ? '+' : ''}{record.changePercentage.toFixed(1)}%\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n\n            {customerData.purchaseRecords.length === 0 && (\n              <div className=\"text-center py-8 text-gray-500\">\n                <Package className=\"w-12 h-12 mx-auto mb-4 text-gray-300\" />\n                <p className=\"text-lg font-medium\">No purchase data found</p>\n                <p className=\"text-sm\">This customer has no invoice data for comparison</p>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Footer */}\n        <div className=\"p-6 border-t border-gray-200 bg-gray-50\">\n          <div className=\"flex justify-between items-center\">\n            <div className=\"text-sm text-gray-600\">\n              Analysis generated from current and previous invoice data\n            </div>\n            <Button onClick={onClose}>\n              Close Analysis\n            </Button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CustomerDetailModal;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}